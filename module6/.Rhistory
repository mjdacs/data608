Week_Total_Exits = sum(Total_Exit)) %>%
arrange(desc(Week_Total_Entries))
df_audit1 %>%
select(SCP, STATION, DATE, TIME, DESC, ENTRIES, EXITS) %>%
filter(STATION == "125 ST")
df_audit1 %>%
mutate(Total_Enter = ENTRIES - lag(ENTRIES, 1),
Total_Exit = EXITS - lag(EXITS, 1)) %>%
filter(Total_Enter > 0 & DATE == "11/22/2019") %>%
group_by(STATION) %>%
filter(STATION != "ALLERTON AV" & !SCP %in% c("00-00-00"),
STATION != "125 ST" & !SCP %in% c("00-05-01")) %>%
summarise(Week_Total_Entries = sum(Total_Enter),
Week_Total_Exits = sum(Total_Exit)) %>%
arrange(desc(Week_Total_Entries))
dfdt %>%
mutate(Total_Enter = ENTRIES - lag(ENTRIES, 1),
Total_Exit = EXITS - lag(EXITS, 1)) %>%
filter(Total_Enter > 0 & DATE == "11/22/2019") %>%
group_by(STATION) %>%
filter(STATION != "42 ST-PORT AUTH" & !SCP %in% c("00-00-08", "00-00-09"),
STATION != "RECTOR ST" & !SCP %in% c("01-03-00", "01-06-00"),
STATION != "47-50 STS ROCK" & !SCP %in%
c("02-06-00","02-06-01",
"02-03-00","02-03-01","02-03-02","02-03-03",
"01-03-02",
"00-03-00", "00-03-01","00-03-02","00-03-03","00-03-04","00-03-05"),
STATION != "86 ST" & !SCP %in%
c("00-00-00", "00-00-01", "00-03-00", "00-03-01", "00-03-02"),
STATION != "ALLERTON AV" & !SCP %in% c("00-00-00"),
STATION != "125 ST" & !SCP %in% c("00-05-01")
) %>%
summarise(Week_Total_Entries = sum(Total_Enter),
Week_Total_Exits = sum(Total_Exit)) %>%
arrange(desc(Week_Total_Entries))
df_audit1 %>%
select(SCP, STATION, DATE, TIME, DESC, ENTRIES, EXITS) %>%
filter(STATION == "WTC-CORTLANDT")
df_audit1 %>%
mutate(Total_Enter = ENTRIES - lag(ENTRIES, 1),
Total_Exit = EXITS - lag(EXITS, 1)) %>%
filter(Total_Enter > 0 & DATE == "11/22/2019") %>%
group_by(STATION) %>%
filter(STATION != "ALLERTON AV" & !SCP %in% c("00-00-00"),
STATION != "125 ST" & !SCP %in% c("00-05-01"),
STATION != "WTC-CORTLANDT" & !SCP %in% c("00-03-00","03-00-00","03-00-01","03-00-02")) %>%
summarise(Week_Total_Entries = sum(Total_Enter),
Week_Total_Exits = sum(Total_Exit)) %>%
arrange(desc(Week_Total_Entries))
df_audit1 %>%
select(SCP, STATION, DATE, TIME, DESC, ENTRIES, EXITS) %>%
filter(STATION == "96 ST")
df1 <- df_audit1 %>%
mutate(Total_Enter = ENTRIES - lag(ENTRIES, 1),
Total_Exit = EXITS - lag(EXITS, 1)) %>%
filter(Total_Enter > 0 & DATE == "11/22/2019") %>%
group_by(STATION) %>%
filter(STATION != "ALLERTON AV" & !SCP %in% c("00-00-00"),
STATION != "125 ST" & !SCP %in% c("00-05-01"),
STATION != "WTC-CORTLANDT" & !SCP %in% c("00-03-00","03-00-00","03-00-01","03-00-02"))
df1
df1 <- df_audit1 %>%
mutate(Total_Enter = ENTRIES - lag(ENTRIES, 1),
Total_Exit = EXITS - lag(EXITS, 1)) %>%
filter(Total_Enter > 0 & DATE == "11/22/2019") %>%
group_by(STATION) %>%
filter(STATION != "ALLERTON AV" & !SCP %in% c("00-00-00"),
STATION != "125 ST" & !SCP %in% c("00-05-01"),
STATION != "WTC-CORTLANDT" & !SCP %in% c("00-03-00","03-00-00","03-00-01","03-00-02")) %>%
summarise(Week_Total_Entries = sum(Total_Enter),
Week_Total_Exits = sum(Total_Exit)) %>%
arrange(desc(Week_Total_Entries))
df1
df2 <- df_audit2 %>%
mutate(Total_Enter = ENTRIES - lag(ENTRIES, 1),
Total_Exit = EXITS - lag(EXITS, 1)) %>%
filter(Total_Enter > 0 & DATE == "11/22/2019") %>%
group_by(STATION) %>%
summarise(Week_Total_Entries = sum(Total_Enter),
Week_Total_Exits = sum(Total_Exit)) %>%
arrange(desc(Week_Total_Entries))
df2
df3 <- df_audit3 %>%
mutate(Total_Enter = ENTRIES - lag(ENTRIES, 1),
Total_Exit = EXITS - lag(EXITS, 1)) %>%
filter(Total_Enter > 0 & DATE == "11/22/2019") %>%
group_by(STATION) %>%
summarise(Week_Total_Entries = sum(Total_Enter),
Week_Total_Exits = sum(Total_Exit)) %>%
arrange(desc(Week_Total_Entries))
df3
df4 <- df_audit4 %>%
mutate(Total_Enter = ENTRIES - lag(ENTRIES, 1),
Total_Exit = EXITS - lag(EXITS, 1)) %>%
filter(Total_Enter > 0 & DATE == "11/22/2019") %>%
group_by(STATION) %>%
filter(STATION != "42 ST-PORT AUTH" & !SCP %in% c("00-00-08", "00-00-09"),
STATION != "RECTOR ST" & !SCP %in% c("01-03-00", "01-06-00"),
STATION != "47-50 STS ROCK" & !SCP %in%
c("02-06-00","02-06-01",
"02-03-00","02-03-01","02-03-02","02-03-03",
"01-03-02",
"00-03-00", "00-03-01","00-03-02","00-03-03","00-03-04","00-03-05"),
STATION != "86 ST" & !SCP %in%
c("00-00-00", "00-00-01", "00-03-00", "00-03-01", "00-03-02")
) %>%
summarise(Week_Total_Entries = sum(Total_Enter),
Week_Total_Exits = sum(Total_Exit)) %>%
arrange(desc(Week_Total_Entries))
df4
clean_df <- bind_rows(df1, df2, df3, df4)
clean_df
clean_df %>% group_by(STATION) %>% arrange()
clean_df <- bind_rows(df1, df2, df3, df4)
clean_df %>% group_by(STATION) %>% arrange()
clean_df <- bind_rows(df1, df2, df3, df4)
clean_df %>% group_by(STATION) %>% arrange(desc(Week_Total_Entries))
clean_df <- bind_rows(df1, df2, df3, df4)
clean_df %>% group_by(STATION) %>%
summarise(Week_Total_Entries = sum(Week_Total_Entries),
Week_Total_Exits = sum(Week_Total_Exits)) %>%
arrange(desc(Week_Total_Entries))
setwd("~/Code/data608/module6")
setwd("~/Code/CUNY/data608/module6")
clean_df <- bind_rows(df1, df2, df3, df4)
clean_df <- clean_df %>% group_by(STATION) %>%
summarise(Week_Total_Entries = sum(Week_Total_Entries),
Week_Total_Exits = sum(Week_Total_Exits)) %>%
arrange(desc(Week_Total_Entries))
data_viz <- clean_df[1:20,] %>% arrange(desc(Week_Total_Entries))
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "20 Stations for Week Ending 7/6/2018",
subtitle = "Total turnstile entries at each station. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "20 Stations for Week Ending 11/22/2019",
subtitle = "Total turnstile entries at each station. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "20 Stations for Week Ending 11/22/2019",
subtitle = "Total turnstile entries at each station. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "20 Stations for Week Ending 11/22/2019",
subtitle = "Total turnstile entries at each station. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
```{r message=FALSE, fig.width=8}
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "20 Stations for Week Ending 11/22/2019",
subtitle = "Total turnstile entries at each station. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "20 Stations for Week Ending 11/22/2019",
subtitle = "Total turnstile entries at each station. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "20 Stations for Week Ending 11/22/2019",
subtitle = "Total turnstile entries at each station. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "20 Busiest Subway Stations for Week Ending 11/22/2019",
subtitle = "By total turnstile entry. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "20 Busiest Subway Stations for Week Ending 11/22/2019",
subtitle = "By entry. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "20 Busiest Subway Stations by Entry",
subtitle = "For Week Ending 11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "For Week Ending 11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "For the week ending 11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "For the one week period 11/16/2019 - 11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "For the one week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "One week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
data_viz_low <- tail(data2,20) %>%
mutate(Total_traffic = Week_Total_Entries + Week_Total_Exits) %>%
select(STATION, Total_traffic) %>%
arrange(Total_traffic)
data_viz_low <- tail(clean_df,20) %>%
mutate(Total_traffic = Week_Total_Entries + Week_Total_Exits) %>%
select(STATION, Total_traffic) %>%
arrange(Total_traffic)
data_viz_low
data_viz_low <- tail(clean_df,20) %>%
mutate(Total_traffic = Week_Total_Entries + Week_Total_Exits) %>%
select(STATION, Total_traffic) %>%
arrange(desc(Total_traffic))
data_viz_low
data_viz_hi <- head(clean_df,20) %>%
mutate(Total_traffic = Week_Total_Entries + Week_Total_Exits) %>%
select(STATION, Total_traffic) %>%
arrange(desc(Total_traffic))
data_viz_hi
data_viz_low <- tail(clean_df,20) %>%
mutate(Total_traffic = Week_Total_Entries + Week_Total_Exits) %>%
select(STATION, Total_traffic) %>%
arrange(Total_traffic)
data_viz_low
ggplot(data_viz_hi, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "One week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggplot(data_viz, aes(x = reorder(STATION, Week_Total_Entries), y = Week_Total_Entries)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Week_Total_Entries),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "One week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("mdacplot.png")
data_viz_hi <- head(clean_df,20) %>%
mutate(Total_traffic = Week_Total_Entries + Week_Total_Exits) %>%
select(STATION, Total_Traffic) %>%
arrange(desc(Total_traffic))
data_viz_low <- tail(clean_df,20) %>%
mutate(Total_Traffic = Week_Total_Entries + Week_Total_Exits) %>%
select(STATION, Total_Traffic) %>%
arrange(Total_Traffic)
data_viz_low
data_viz_hi <- head(clean_df,20) %>%
mutate(Total_Traffic = Week_Total_Entries + Week_Total_Exits) %>%
select(STATION, Total_Traffic) %>%
arrange(desc(Total_Traffic))
data_viz_hi
ggplot(data_viz_hi, aes(x = reorder(STATION, Total_Traffic), y = Total_Traffic)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Total_Traffic),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "One week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("total_hi.png")
ggplot(data_viz_hi, aes(x = reorder(STATION, Total_Traffic), y = Total_Traffic)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Total_Traffic),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "One week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("total_hi.png")
```{r message=FALSE, fig.width=9}
ggplot(data_viz_hi, aes(x = reorder(STATION, Total_Traffic), y = Total_Traffic)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Total_Traffic),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "One week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("total_hi.png")
ggplot(data_viz_hi, aes(x = reorder(STATION, Total_Traffic), y = Total_Traffic)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Total_Traffic),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "One week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("total_hi.png")
ggplot(data_viz_hi, aes(x = reorder(STATION, Total_Traffic), y = Total_Traffic)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Total_Traffic),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "One week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("total_hi.png")
ggplot(data_viz_hi, aes(x = reorder(STATION, Total_Traffic), y = Total_Traffic)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Total_Traffic),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "One week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("total_hi.png")
ggplot(data_viz_hi, aes(x = reorder(STATION, Total_Traffic), y = Total_Traffic)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Total_Traffic),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Entry",
subtitle = "One week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("total_hi.png")
ggplot(data_viz_hi, aes(x = reorder(STATION, Total_Traffic), y = Total_Traffic)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Total_Traffic),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Total Turnstile Count",
subtitle = "Total Entries and Exits for the one week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("total_hi.png")
ggplot(data_viz_hi, aes(x = reorder(STATION, Total_Traffic), y = Total_Traffic)) +
geom_bar(stat = "identity", fill = "navy", width = .5) +
geom_text(aes(label=Total_Traffic),
position=position_dodge(width = 0.1), hjust = -0.03, vjust = 0.5, size = 2.5) +
coord_flip() +
scale_y_continuous(labels = scales::comma) +
theme(text = element_text(size = 10)) +
labs(title = "The 20 Busiest NYC Subway Stations by Total Turnstile Count",
subtitle = "Total entries and exits for the one week period 11/16/2019-11/22/2019. Data courtesty of mta.info",
caption = "mdac",
x = "Station",
y = "Entries per station")
ggsave("total_hi.png")
colnames(data)
unique(LINENAME)
unique(data$LINENAME)
unique(data$DIVISION)
unique(data$LINENAME)
